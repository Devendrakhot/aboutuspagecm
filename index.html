<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chinmaya Mission – The Mission</title>

  <!-- Tailwind & Axios -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;700&family=Anek Latin:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --primary-color: #2a0001;
      --secondary-color: #DAA864;
    }

    body {
      font-family: 'Anek Latin', sans-serif;
      color: var(--primary-color);
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Domine', sans-serif;
      color: var(--primary-color);
    }

    /* Custom Theme */
    .bg-darkBlue {
      background-color: var(--primary-color);
    }

    .text-primary {
      color: var(--secondary-color);
    }

    .text-primary-title {
      color: var(--secondary-color);
    }

    .text-primary-text {
      color: #f3f4f6;
    }

    /* No Scrollbar */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* Glance Section */
    .glance-bg {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-color) 25%, #993434 50%, var(--primary-color) 75%, var(--primary-color) 100%);
      background-size: cover;
      background-position: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .glance-divider-line {
      position: relative;
      margin: 2rem 0;
      height: 2px;
      background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.1) 20%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0.1) 80%, transparent 100%);
      border-radius: 1px;
    }

    .glance-divider-line::before {
      content: '';
      position: absolute;
      top: -1px;
      left: 50%;
      transform: translateX(-50%);
      width: 8px;
      height: 4px;
      background: linear-gradient(45deg, var(--secondary-color), #f5c16b);
      border-radius: 2px;
      box-shadow: 0 0 10px rgba(218, 168, 100, 0.5);
    }

    .glance-divider-line::after {
      content: '';
      position: absolute;
      top: -1px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: #ffffff;
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      margin-bottom: 0.5rem;
      filter: invert(100%);
    }

    /* Our Essence Gradient */
    .our-essence-card {
      background:linear-gradient(180deg, rgba(218, 168, 100, 0.4) 0%, rgb(255 255 255) 40%, rgb(255 255 255) 80%);
    }

    /* Smooth Scroll Animations */
    @keyframes scroll-x-desktop {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-50%);
      }
    }

    @keyframes scroll-x-mobile {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    .animate-scroll-x {
      display: inline-flex;
      white-space: nowrap;
      animation: scroll-x-desktop 8s linear infinite;
      will-change: transform;
    }

    .group:hover .animate-scroll-x {
      animation-play-state: paused;
    }

    @media (max-width: 1024px) {
      .animate-scroll-x {
        animation: scroll-x-mobile 8s linear infinite !important;
      }
    }
  </style>
</head>

<body class="bg-white relative text-gray-900">

  <!-- ========== SECTION 1 ========== -->
  <section id="section1" class="relative bg-[#2a0001] pt-20 pb-20 text-white overflow-hidden">
    <img src="Vector1.png" alt="vector"
      class="absolute left-0 bottom-0 h-[80px] md:h-[100px] lg:h-[180px] w-auto opacity-60">
    <img src="Vector2.png" alt="vector"
      class="absolute right-0 bottom-0 h-[80px] md:h-[100px] lg:h-[180px] w-auto rotate-90 opacity-60">
    <div class="max-w-[1100px] mx-auto flex flex-col md:flex-row gap-10 relative px-4 items-center">
      <div id="section1-image" class="max-w-[462px] w-full flex items-center justify-center"></div>
      <div class="flex flex-col gap-4 md:w-1/2 w-full">
        <h2 id="section1-title" class=" text-[32px] font-bold text-white"></h2>
        <div class="relative">
          <div id="section1-desc"
            class="text-white/90 text-lg leading-relaxed max-h-[220px] overflow-y-auto pr-3 scroll-smooth no-scrollbar"></div>
          <div class="absolute bottom-0 left-0 w-full h-[80px] bg-gradient-to-b from-transparent to-[#2a0001] pointer-events-none"></div>
        </div>
      </div>
    </div>
  </section>

  <section class="flex flex-col justify-center items-center text-center px-6 py-16">
    <div class="max-w-4xl fade-up space-y-6">
      <h1 class="text-5xl md:text-6xl font-bold glow-text">
        Bringing Knowledge to Light
      </h1>

      <p class="text-lg md:text-xl italic text-slate-600">
        Knowledge is not information. It is awareness. When wisdom awakens, life itself shines.
      </p>

      <div class="text-left space-y-5 mt-8 text-slate-700 leading-relaxed bg-white backdrop-blur-sm rounded-3xl shadow-md p-8">
        <p>
          <strong class="text-slate-900">Chinmaya Prakashan</strong> is the publishing wing of Chinmaya Mission,
          envisioned by <strong class="text-slate-900">Swami Chinmayananda</strong> to place the eternal truths of Vedanta
          in the hands of all. Each book serves to illuminate the path, guiding the reader from confusion to clarity,
          from weakness to strength, and toward the discovery of true joy.
        </p>

        <p>
          For the child, these works are songs and stories that plant seeds of wonder. For the youth, they are sparks that ignite
          curiosity, fuel dreams, and turn energy into purpose. For the householder and professional, they are steady guides through
          life’s demands. For the seeker, they are treasures that open the doors to enquiry, devotion, and freedom.
        </p>

        <p>
          Through a collection of over <strong>900 multilingual books, e-books, audios, and videos</strong>, this light reaches
          readers everywhere. It is made accessible to the global network of Chinmaya Mission Centres through direct channels like
          the <strong>Chinmaya Vani</strong> online store and a wide array of distribution partners worldwide.
        </p>

        <p class="italic border-l-4 border-[#DAA864] pl-4 font-medium text-slate-800">
          “Bringing Knowledge to Light” is not a motto. It is an endeavour to make wisdom a living presence, guiding every home,
          every heart, every generation.
        </p>
      </div>
    </div>
  </section>
  <!-- ========== SECTION 2 ========== -->
  <section class="relative bg-gray-50 pt-15 pb-20 text-gray-900">
    <img src="vector3.svg" alt="vector" class="absolute left-0 top-0 h-[100px] opacity-40">
    <img src="vector4.svg" alt="vector" class="absolute right-0 top-0 h-[100px] opacity-40">
    <div class="max-w-[1100px] mx-auto flex flex-col gap-10 md:gap-16 px-4">
      <div class="flex flex-col gap-6 max-w-[900px] mx-auto">
        <div class="flex justify-center items-center gap-3 md:gap-6">
          <img src="Star.png" class="w-4 h-4" alt="star">
          <h3 class="text-center text-[28px] sm:text-[32px] md:text-[48px] font-bold">Multifaceted Outreach</h3>
          <img src="Star.png" class="w-4 h-4" alt="star">
        </div>
        <p class="text-center text-sm md:text-xl text-gray-600">Enriching lives through spirituality, culture, education and service</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="experience-cards"></div>
    </div>
  </section>

  <!-- ========== SECTION 3 ========== -->
  <section class="glance-bg text-white py-16 px-4 rounded-3xl max-w-[1100px] mx-auto mt-10 shadow-xl">
    <h2 class="text-center text-white [28px] sm:text-[32px] md:text-[48px] font-bold mb-12">
      Chinmaya Mission at a Glance
    </h2>
    <div class="flex flex-wrap justify-center gap-10 md:gap-16" id="glance-stats"></div>
    <div class="glance-divider-line"></div>
    <div class="flex flex-wrap justify-center gap-10 md:gap-16" id="glance-stats-2"></div>
  </section>

  <!-- ========== SECTION 4 ========== -->
  <section class="py-10 mt-10 bg-white overflow-hidden w-full">
    <div class="text-center mb-10">
      <div class="flex justify-center items-center gap-3 md:gap-6">
        <img src="Star.png" class="w-4 h-4" alt="star">
        <h3 class="text-center text-[28px] sm:text-[32px] md:text-[48px] font-bold">The Spiritual Legacy</h3>
        <img src="Star.png" class="w-4 h-4" alt="star">
      </div>
    </div>
    <div class="relative group overflow-hidden w-full">
      <div id="pillar-container" class="flex animate-scroll-x gap-6"></div>
    </div>
  </section>

  <!-- ========== SECTION 5 ========== -->
  <section class="bg-white py-5 px-4">
    <div class="max-w-6xl mx-auto text-center mb-12">
      <div class="flex justify-center items-center gap-3 md:gap-6">
        <img src="Star.png" class="w-4 h-4" alt="star">
        <h3 class="text-center text-[28px] sm:text-[32px] md:text-[48px] font-bold">Our Essence & Ethos</h3>
        <img src="Star.png" class="w-4 h-4" alt="star">
      </div>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto" id="essence-cards"></div>
  </section>

  <!-- ========== SECTION 6 ========== -->
<!-- ========== SECTION 6.1: Chinmaya Mission Logo: Symbolism & Meaning ========== -->
<section id="logo-meaning-section" class="bg-darkBlue py-10 md:py-20">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-center items-center gap-16 px-4">
  
      <!-- Image -->
      <img id="logo-meaning-image"
           src="logo.png"
           alt="Chinmaya Mission Logo"
           class="w-[224px] h-[232px] object-contain rounded-lg" />
  
      <!-- Text -->
      <div class="flex flex-col items-start gap-6 w-full md:text-start text-center">
        <p id="logo-meaning-title"
           class="text-white font-[Domine] text-4xl font-bold leading-[1.2em] w-full">
        </p>
  
        <div id="logo-meaning-desc"
             class="text-white font-[Anek Latin] text-lg font-normal leading-[1.25em] w-full text-justify">
        </div>
      </div>
    </div>
  </section>
  

  <!-- ========== SECTION 7 (Pledge + Tabs) ========== -->
  <section class="py-20 px-4 max-w-6xl mx-auto">
    <div class="flex flex-col lg:flex-row gap-8 border border-[rgba(16.5%,0%,0.4%,20%)] rounded-[32px] p-6">
      <div class="flex-1 p-6 md:p-12">
        <h3 class="text-2xl md:text-4xl font-bold mb-6 md:mb-8">Chinmaya Mission Pledge</h3>
        <div id="pledge-left" class="text-gray-800 text-lg leading-relaxed text-justify"></div>
      </div>
      <div class="flex-1  p-6 md:p-12 rounded-3xl border border-[rgba(16.5%,0%,0.4%,20%)]">
        <div class="flex mb-6 justify-evenly" id="tabs-buttons">
          <button class="px-4 md:px-8 pb-4 md:pb-6 text-[#2a0001] border-b-2 border-[#DAA864] font-semibold text-lg md:text-xl" data-tab="0">English</button>
          <button class="px-4 md:px-8 pb-4 md:pb-6 text-gray-600 border-b-2 border-transparent font-normal text-lg md:text-xl" data-tab="1">Sanskrit</button>
          <button class="px-4 md:px-8 pb-4 md:pb-6 text-gray-600 border-b-2 border-transparent font-normal text-lg md:text-xl" data-tab="2">Hindi</button>
        </div>
        <div id="tab-content" class="space-y-6 text-[#2a0001] text-lg leading-relaxed text-justify"></div>
      </div>
    </div>
  </section>

  <!-- ========== Script (unchanged dynamic Strapi fetch) ========== -->
  <script>
   /*******************************
     * Configuration
     *******************************/
     const slug = "themission"; // Strapi page slug
    const API_URL = "https://cms.chinmayamission.com/graphql";
    const BASE_URL = "https://cms.chinmayamission.com";

    /*******************************
     * Utility – robust media URL extractor
     *******************************/
    function getMediaUrl(media) {
      if (!media) return "";
      try {
        // support media.url
        if (typeof media === 'string') return media.startsWith('/') ? BASE_URL + media : media;
        if (media.url) return media.url.startsWith('/') ? BASE_URL + media.url : media.url;
        // support nested shapes
        if (media.data?.attributes?.url) return (media.data.attributes.url.startsWith('/') ? BASE_URL + media.data.attributes.url : media.data.attributes.url);
        if (media.data?.url) return media.data.url.startsWith('/') ? BASE_URL + media.data.url : media.data.url;
      } catch (e) { /* ignore */ }
      return "";
    }

    /*******************************
     * GraphQL query (pages by slug)
     *******************************/
    const graphqlQuery = `
   query {
        pages(filters: { slug: { eq: "${slug}" } }) {
          shortName
          slug
          contentSections {
            __typename
            ... on ComponentSectionsPageBlockGroup {
              page_blocks {
                view_template
                page_block_title
                page_block_short_text
                block_detail {
                  info_title
                  info_short_text
                  info_description
                  media { url }
                  info_hyper_link {
                  url

                  }
                }
              }
            }
          }
        }
      }
    `;


    /*******************************
     * loadPageData: populates dynamic sections
     *******************************/
    async function loadPageData() {
      try {
       

        const res = await axios.post(API_URL, { query: graphqlQuery });
        const page = res.data?.data?.pages?.[0];
        if (!page) {
          console.warn("No page data found for slug:", slug);
          ensureFallbackContent();
          return;
        }

        const sections = page.contentSections?.[0]?.page_blocks || [];
        
        // Clear containers to avoid duplicates
        document.getElementById("experience-cards").innerHTML = "";
        document.getElementById("glance-stats").innerHTML = "";
        document.getElementById("glance-stats-2").innerHTML = "";
        document.getElementById("pillar-container").innerHTML = "";
        document.getElementById("essence-cards").innerHTML = "";

        /* ------------------------------
           Section 1:
           ------------------------------ */
        const heroBlock = sections.find(b => (b.view_template || "").toLowerCase().includes("two_1033") || (b.page_block_title || "").toLowerCase().includes("knowledge"));
       
        if (heroBlock && heroBlock.block_detail?.[0]) {
          const d = heroBlock.block_detail[0];
          const mediaUrl = getMediaUrl(d.media?.url ? { url: d.media.url } : d.media);
          document.getElementById("section1-title").innerText = d.info_title || "";
          document.getElementById("section1-desc").innerHTML = d.info_description || "";
          if (mediaUrl) {
            document.getElementById("section1-image").innerHTML =
              `<img src="${mediaUrl}" class="w-[462px] h-[260px] rounded-2xl object-cover shadow-lg">`;
          }
        }


        /* ------------------------------
           Section 2:
           ------------------------------ */
        const experienceBlocks = page.contentSections?.[1]?.page_blocks || [];
      

        const expLinks = [
          "https://www.chinmayamission.com/global/spiritual-forums",
          "https://www.chinmayamission.com/global/chinmaya-vishwavidyapeeth-1",
          "https://www.chinmayamission.com/global/vedicgita-1",
          "https://www.chinmayamission.com/global/spiritual-education",
          "https://www.chinmayamission.com/global/academic-education",
          "https://www.upanishadganga.com/",
          "https://www.chinmayamission.com/global/cord-1",
          "https://www.chinmayamission.com/global/sacred-sanctuaries-1"
          // Add more links if needed
        ];

    
        const expContainer = document.getElementById("experience-cards");
       

        experienceBlocks.forEach(block => {
      

          block.block_detail?.forEach((d, i) => {
            const img = getMediaUrl(d.media?.url ? { url: d.media.url } : d.media);
            const link = expLinks[i] || "#";

            // Create card wrapper div instead of direct <a>
            const card = document.createElement("div");
            card.className =
              "group relative flex md:flex-row flex-col py-[16px] px-[24px] items-center md:gap-[40px] gap-4 rounded-3xl border border-gray-300 bg-white shadow-sm transition-all duration-500 w-full hover:border-[#2A0001] ";

            // Card content
            card.innerHTML = `
      <div class="relative rounded-full w-[100px] h-[100px] flex justify-center items-center overflow-hidden bg-gray-100 flex-shrink-0">
        <img src="${img}" alt="${d.info_title || ''}" class="w-full h-full object-contain rounded-full">
      </div>
      <div class="flex-1 min-w-[280px] max-w-[450px] flex flex-col justify-start">
        <h2 class="text-[#2a0001] text-lg font-semibold mb-2">${d.info_title || ""}</h2>
        <p class="text-gray-600 text-sm leading-relaxed mb-3">${d.info_description || ""}</p>
        <span class="text-[#B2A8A0] text-sm font-medium inline-flex items-center gap-1  group-hover:text-[#2A0001] transition-all">Know More →</span>
      </div>
    `;

            // ✅ Make card clickable only on hover
            card.addEventListener("mouseenter", () => {
              card.addEventListener("click", handleClick);
              card.style.cursor = "pointer"; // Show pointer cursor
            });
            card.addEventListener("mouseleave", () => {
              card.removeEventListener("click", handleClick);
              card.style.cursor = "default";
            });

            function handleClick() {
              if (link && link !== "#") {
                window.open(link, "_blank", "noopener,noreferrer");
              }
            }

            expContainer.appendChild(card);
          });
        });

        /* ------------------------------
           Section 3: Glance -> one_1_1007 (or contains 'glance')
           ------------------------------ */
        const glanceBlocks = page.contentSections?.[3]?.page_blocks || [];

        const glanceContainer = document.getElementById("glance-stats");
        const glanceContainer2 = document.getElementById("glance-stats-2");
        // const glanceBlocks = sections.filter(b => (b.view_template || "").toLowerCase().includes("one_1_1007") || (b.view_template || "").toLowerCase().includes("glance") || (b.page_block_title || "").toLowerCase().includes("glance"));
        let stats = [];
        glanceBlocks.forEach(block => {
          block.block_detail?.forEach(d => {
            const icon = getMediaUrl(d.media?.url ? { url: d.media.url } : d.media);
            stats.push({
              icon,
              alt: d.info_title || "",
              number: d.info_title || "",
              label: d.info_short_text || ""
            });
          });
        });
        stats.forEach((stat, index) => {
          const statElement = document.createElement('div');
          statElement.className = "flex flex-col items-center min-w-[180px] text-center";
          statElement.innerHTML = `
                <img src="${stat.icon}" alt="${stat.alt}" class="stat-icon">
                <h3 class="text-2xl md:text-3xl text-primary font-bold mb-1">${stat.number}</h3>
                <p class="text-gray-200 text-sm md:text-base">${stat.label}</p>`;
          if (index < 4) glanceContainer.appendChild(statElement);
          else glanceContainer2.appendChild(statElement);
        });

        /* ------------------------------
           Section 4: Pillars -> one_1_1010 (or contains 'pillar')
           ------------------------------ */
        /* ------------------------------
   Section 4: Pillars -> one_1_1010 (or contains 'pillar')
------------------------------ */
const pillarBlocks = page.contentSections?.[4]?.page_blocks || [];
const pillarContainer = document.getElementById("pillar-container");

const links = [
    "https://www.chinmayamission.com/global/tapovan-maharaj-1",
    "https://www.chinmayamission.com/global/swami-chinmayananda-1",
    "https://www.chinmayamission.com/global/swami-tejomayananda-1",
    "https://www.chinmayamission.com/global/swami-swaroopananda-1",
    "https://www.chinmayamission.com/global/swamins-and-brahmacharins"
  ];

let pillarsArr = [];

pillarBlocks.forEach(block => {
  block.block_detail?.forEach((d, i) => {
    const img = getMediaUrl(d.media?.url ? { url: d.media.url } : d.media);
    pillarsArr.push({
      img,
      alt: d.info_title || "",
      name: d.info_title || "",
      title: d.info_description || "",
      link: links[i] || "#",
    });
  });
});

// Duplicate once for smooth looping
const allPillars = [...pillarsArr, ...pillarsArr];

allPillars.forEach(pillar => {
  const card = document.createElement("div");
  card.className =
    "w-[260px] sm:w-[280px] md:w-[320px] bg-white rounded-2xl overflow-hidden shadow-md mx-3 flex-shrink-0 border border-gray-200";
  card.innerHTML = `
    <div class="relative">
      <img src="${pillar.img}" alt="${pillar.alt}" class="w-full h-[320px] sm:h-[340px] object-cover" />
      <div class="absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-white to-transparent"></div>
    </div>
    <div class="p-5 relative z-10">
      <h3 class="text-lg font-semibold text-gray-800 mb-1">${pillar.name}</h3>
      <p class="text-sm text-[#2a0001] mb-3">${pillar.title}</p>
      <a href="${pillar.link}" target="_blank"
        class="text-[#B2A8A0] text-sm font-medium inline-flex items-center gap-1 hover:gap-2 transition-all hover:text-[#2A0001]">
        Know More →
      </a>
    </div>
  `;
  pillarContainer.appendChild(card);
});

      
        /* ------------------------------
           Section Essence -> one_1_1014 (or contains 'essence')
           ------------------------------ */
        const essenceBlocks = page.contentSections?.[5]?.page_blocks || [];
        const essenceContainer = document.getElementById("essence-cards");
        // const essenceBlocks = sections.filter(b => (b.view_template || "").toLowerCase().includes("one_1_1014") || (b.view_template || "").toLowerCase().includes("essence") || (b.page_block_title || "").toLowerCase().includes("essence"));
        essenceBlocks.forEach(block => {
          block.block_detail?.forEach(d => {
            const img = getMediaUrl(d.media?.url ? { url: d.media.url } : d.media);
            const div = document.createElement("div");
            div.className = "relative w-full max-w-md rounded-3xl p-[1px] overflow-hidden mx-auto";
            div.innerHTML = `
              <div class="absolute inset-0 rounded-3xl our-essence-card"></div>
              <div class="relative bg-white rounded-3xl p-8 flex flex-col items-center text-center">
                <img src="${img}" alt="${d.info_title || ''}" class="w-20 h-20 mb-4" />
                <h3 class="text-[#2A0001] text-2xl  mb-4">${d.info_title || ''}</h3>
                <p class="text-gray-700 text-lg">${d.info_description || ''}</p>
              </div>`;
            essenceContainer.appendChild(div);
          });
        });

        /* ------------------------------
           Section Info & Pledge Tabs -> one_1_1016 (or contains 'info'/'pledge')
           ------------------------------ */
     /* ------------------------------
   Section 6.1: Chinmaya Mission Logo: Symbolism & Meaning
------------------------------ */
const logoMeaningBlocks = page.contentSections?.[6]?.page_blocks || [];

if (logoMeaningBlocks.length > 0) {
  const logoData = logoMeaningBlocks[0].block_detail?.[0];
  if (logoData) {
    const imgUrl = getMediaUrl(logoData.media?.url ? { url: logoData.media.url } : logoData.media);
    const title = logoData.info_title || "Chinmaya Mission Logo: Symbolism & Meaning";
    const desc = logoData.info_description || "";

    document.getElementById("logo-meaning-title").innerText = title;
    document.getElementById("logo-meaning-desc").innerHTML = desc;
    if (imgUrl) document.getElementById("logo-meaning-image").src = imgUrl;
  }
} else {
  // fallback static data
  document.getElementById("logo-meaning-title").innerText = "Chinmaya Mission Logo: Symbolism & Meaning";
  document.getElementById("logo-meaning-desc").innerHTML = `
    This logo reflects Chinmaya Mission’s vision — spreading Vedantic wisdom, facilitating self-discovery, 
    and rendering service to humanity.<br><br>
    The lamp represents the ethical life of virtues needed to ignite the flame of inner wisdom,
    while the swan symbolises the power of discernment — the ability to distinguish truth from illusion.<br><br>
    Just as one lamp kindles many others and retains its own brilliance, one Realised Master brings transformation 
    to countless individuals and remains undiminished. Like light dispels darkness, the universal Reality shines within us,
    enlivening and illuminating all knowledge as the Divine presence within.
  `;
  document.getElementById("logo-meaning-image").src = "logo.png";
}


        // Pledge tabs: try to pick three block_detail entries from infoBlocks (or block titled 'pledge')
        let pledgeSources = [];
        const pledgeBlocks = page.contentSections?.[7]?.page_blocks || [];
        // find block with page_block_title containing 'pledge' first
        // const pledgeBlocks = sections.filter(b => (b.page_block_title || "").toLowerCase().includes("pledge") || (b.view_template || "").toLowerCase().includes("one_1_1016"));
        if (pledgeBlocks.length) {
          pledgeBlocks.forEach(pb => pb.block_detail?.forEach(d => pledgeSources.push(d)));
        } else if (infoBlocks.length) {
          // use all block_details from first infoBlock
          infoBlocks.forEach(b => b.block_detail?.forEach(d => pledgeSources.push(d)));
        }
       
        // prepare three tabs (English, Sanskrit, Hindi) using available data; fallback to built-in text if missing
        const tabContents = [
          pledgeSources[1]?.info_description || `We stand as one family, bound to each other with love and respect...`,
          pledgeSources[2]?.info_description || `चिन्तन्य मिषान प्रतिष्ठा ... (Sanskrit fallback)`,
          pledgeSources[3]?.info_description || `चिन्मय मिशन प्रतिज्ञा ... (Hindi fallback)`
        ];
        // left pledge description (use first pledgeSource title or fallback)
        document.getElementById("pledge-left").innerHTML = pledgeSources[0]?.info_description || `
          <p>
            In the ninth chapter of the Bhagavad Geeta, Shri Krishna says, "One who makes an inner resolve
            and takes a firm decision to follow the path of righteousness should be considered a sadhu".
          </p>
          <p class="mt-4">
            A pledge is a sankalpa or a vow. It is a decision that helps to bring about an inner
            transformation. You become a seeker the moment you take a sankalpa or decision. It is this sankalpa shakti which
            acts as the catalyst that changes an ordinary man into a historic personality.
          </p>
        `;

        // populate tabs
        const tabsButtons = document.querySelectorAll('#tabs-buttons button');
        const tabContent = document.getElementById('tab-content');
        // initialize first tab
        tabContent.innerHTML = `<p>${tabContents[0]}</p>`;
        tabsButtons.forEach((button, idx) => {
          button.addEventListener('click', () => {
            tabsButtons.forEach(btn => {
              btn.classList.remove('text-[#2a0001]', 'border-[#DAA864]', 'font-semibold');
              btn.classList.add('text-gray-600', 'border-transparent', 'font-normal');
            });
            button.classList.add('text-[#2a0001]', 'border-[#DAA864]', 'font-semibold');
            button.classList.remove('text-gray-600', 'border-transparent', 'font-normal');

            const index = idx;
            tabContent.innerHTML = `<p>${tabContents[index]}</p>`;
          });
        });

      } catch (err) {
        console.error("GraphQL Fetch Error:", err);
      } finally {
        // After attempting to load dynamic content, if any key container is empty, populate static fallback content
        // ensureFallbackContent();
      }
    }



    // Initialize
    loadPageData();
  </script>

</body>
</html>




